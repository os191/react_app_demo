{"ast":null,"code":"/**\n * 发送ajax 请求函数模块\n * 函数的返回值 是promise 对象\n */\nimport axios from 'axios';\nexport default function ajax(url = '', data = {}, type = 'GET') {\n  if (type === 'GET') {\n    //准备URL query 参数数据\n    let dataStr = ''; //数据拼接字符串\n\n    Object.keys(data).forEach(key => {\n      dataStr += key + \"+\" + data[key] + '&';\n    });\n\n    if (dataStr !== '') {\n      dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'));\n      url = url + '?' + dataStr;\n    } //发送get请求\n\n\n    return axios.get(url);\n  } else {\n    //发送post 请求\n    return axios.post(url, data);\n  }\n}","map":{"version":3,"sources":["/Users/gongjin/react/zp-client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","dataStr","Object","keys","forEach","key","substring","lastIndexOf","get","post"],"mappings":"AAAA;;;;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,IAAT,CAAcC,GAAG,GAAG,EAApB,EAAyBC,IAAI,GAAG,EAAhC,EAAqCC,IAAI,GAAG,KAA5C,EAAkD;AAC7D,MAAGA,IAAI,KAAK,KAAZ,EAAkB;AACd;AACA,QAAIC,OAAO,GAAG,EAAd,CAFc,CAEG;;AACjBC,IAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAG;AAC5BJ,MAAAA,OAAO,IAAII,GAAG,GAAE,GAAL,GAASN,IAAI,CAACM,GAAD,CAAb,GAAqB,GAAhC;AACH,KAFD;;AAGA,QAAGJ,OAAO,KAAK,EAAf,EAAkB;AACdA,MAAAA,OAAO,GAAGA,OAAO,CAACK,SAAR,CAAkB,CAAlB,EAAoBL,OAAO,CAACM,WAAR,CAAoB,GAApB,CAApB,CAAV;AACAT,MAAAA,GAAG,GAAGA,GAAG,GAAE,GAAL,GAAUG,OAAhB;AACH,KATa,CAUd;;;AACA,WAAOL,KAAK,CAACY,GAAN,CAAUV,GAAV,CAAP;AACH,GAZD,MAYK;AACD;AACA,WAAOF,KAAK,CAACa,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAP;AACH;AACJ","sourcesContent":["/**\n * 发送ajax 请求函数模块\n * 函数的返回值 是promise 对象\n */\nimport axios from 'axios'\n\nexport default function ajax(url = '' , data = {} , type = 'GET'){\n    if(type === 'GET'){\n        //准备URL query 参数数据\n        let dataStr = '' //数据拼接字符串\n        Object.keys(data).forEach(key =>{\n            dataStr += key +\"+\"+data[key] + '&'\n        })\n        if(dataStr !== ''){\n            dataStr = dataStr.substring(0,dataStr.lastIndexOf('&'))\n            url = url +'?'+ dataStr\n        }\n        //发送get请求\n        return axios.get(url)\n    }else{\n        //发送post 请求\n        return axios.post(url, data)\n    }\n}"]},"metadata":{},"sourceType":"module"}