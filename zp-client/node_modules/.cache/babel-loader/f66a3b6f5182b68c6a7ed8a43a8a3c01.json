{"ast":null,"code":"import _objectSpread from \"/Users/gongjin/react/zp-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { combineReducers } from 'redux';\nimport { AUTH_SUCCESS, ERROR_MSG } from './action-type';\nimport { getRedirectTo } from '../util/index';\nconst initUser = {\n  username: '',\n  type: '',\n  message: '',\n  //错误提示信息\n  redirectTo: '' //需要自动更新重定向路由路径\n\n};\n\nfunction user(state = initUser, action) {\n  switch (action.type) {\n    case AUTH_SUCCESS:\n      //data 是user\n      return _objectSpread({}, action.data, {\n        redirectTo: getRedirectTo(action.data.type, action.data.hander)\n      });\n\n    case ERROR_MSG:\n      //data 是message\n      return _objectSpread({}, state, {\n        message: action.data\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({\n  user\n});","map":{"version":3,"sources":["/Users/gongjin/react/zp-client/src/redux/reducers.js"],"names":["combineReducers","AUTH_SUCCESS","ERROR_MSG","getRedirectTo","initUser","username","type","message","redirectTo","user","state","action","data","hander"],"mappings":";AAEA,SAASA,eAAT,QAAgC,OAAhC;AAEA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,eAAxC;AACA,SAASC,aAAT,QAA8B,eAA9B;AAEA,MAAMC,QAAQ,GAAG;AACbC,EAAAA,QAAQ,EAAE,EADG;AAEbC,EAAAA,IAAI,EAAE,EAFO;AAGbC,EAAAA,OAAO,EAAE,EAHI;AAGA;AACbC,EAAAA,UAAU,EAAE,EAJC,CAIE;;AAJF,CAAjB;;AAOA,SAASC,IAAT,CAAcC,KAAK,GAAGN,QAAtB,EAAgCO,MAAhC,EAAuC;AACnC,UAAOA,MAAM,CAACL,IAAd;AACI,SAAKL,YAAL;AAAmB;AAChB,+BAAWU,MAAM,CAACC,IAAlB;AAAyBJ,QAAAA,UAAU,EAAGL,aAAa,CAACQ,MAAM,CAACC,IAAP,CAAYN,IAAb,EAAmBK,MAAM,CAACC,IAAP,CAAYC,MAA/B;AAAnD;;AACH,SAAKX,SAAL;AAAkB;AACf,+BAAWQ,KAAX;AAAmBH,QAAAA,OAAO,EAAEI,MAAM,CAACC;AAAnC;;AACH;AACG,aAAOF,KAAP;AANP;AAQH;;AACD,eAAeV,eAAe,CAAC;AAC3BS,EAAAA;AAD2B,CAAD,CAA9B","sourcesContent":["\n\nimport { combineReducers } from 'redux'\n\nimport { AUTH_SUCCESS, ERROR_MSG } from './action-type'\nimport { getRedirectTo } from '../util/index'\n\nconst initUser = {\n    username: '',\n    type: '',\n    message: '', //错误提示信息\n    redirectTo: '' //需要自动更新重定向路由路径\n}\n\nfunction user(state = initUser, action){\n    switch(action.type){\n        case AUTH_SUCCESS: //data 是user\n           return {...action.data , redirectTo : getRedirectTo(action.data.type, action.data.hander)}\n        case ERROR_MSG:   //data 是message\n           return {...state , message: action.data}\n        default:\n           return state\n     }\n}\nexport default combineReducers({\n    user\n})\n"]},"metadata":{},"sourceType":"module"}